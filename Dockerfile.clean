# Clean Dockerfile to fix duplicate buttons issue
FROM ubuntu:24.04

# Install runtime dependencies
RUN apt-get update && \
    apt-get install -y ca-certificates && \
    rm -rf /var/lib/apt/lists/*

# Copy the pre-built binary
COPY target/release/briefx /usr/local/bin/briefx

# Copy the clean UI data
COPY briefxai_ui_data /app/briefxai_ui_data

# Set working directory
WORKDIR /app

# Expose port
EXPOSE 8080

# Run the application
CMD ["/usr/local/bin/briefx", "ui", "--port", "8080"]